:root {
    --bg-color: #0f0f11;
    --text-color: #ffffff;
    --accent-color: #ffd700;
    --card-width: 200px;
    --card-height: 300px;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Inter', sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    height: 100vh;
    overflow: hidden;
}

.viewport {
    width: 100%;
    height: 100%;
}

.scroll-container {
    width: 100%;
    height: 100%;
    overflow-y: scroll;
    /* scroll-behavior: smooth; <-- Removed to prevent "stuck" feeling on manual scroll */
}

/* 
   We extend the track so scrolling continues past the card reveal.
   The sticky scene stays pinned while we scroll through this track.
   Once we hit the bottom of this track, the sticky element unpins (moves up).
*/
.content-track {
    height: 600vh;
    position: relative;
    background: transparent;
    /* allow lower layers if any */
}

.sticky-scene {
    position: sticky;
    top: 0;
    width: 100%;
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    background-color: #0f0f11;
    /* Adding contrasting light gray crosshatch pattern */
    background-image:
        radial-gradient(circle at center, rgba(30, 30, 35, 0.7) 0%, rgba(15, 15, 17, 1) 100%),
        repeating-linear-gradient(45deg, rgba(255, 255, 255, 0.08) 0px, rgba(255, 255, 255, 0.08) 1px, transparent 1px, transparent 30px),
        repeating-linear-gradient(-45deg, rgba(255, 255, 255, 0.08) 0px, rgba(255, 255, 255, 0.08) 1px, transparent 1px, transparent 30px);
    box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);
}

.hero-section {
    position: absolute;
    top: 15%;
    width: 100%;
    text-align: center;
    z-index: 20;
    transition: opacity 0.5s;
    pointer-events: none;
}

.main-title {
    font-family: 'Playfair Display', serif;
    font-size: 4rem;
    margin-bottom: 1rem;
}

.subtitle {
    font-size: 1rem;
    color: #888;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.scene {
    position: relative;
    width: 100%;
    height: 100%;
    perspective: 1500px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.table-surface {
    position: absolute;
    bottom: -10%;
    width: 120%;
    height: 50vh;
    background: radial-gradient(circle at center, #2a2a2e 0%, #000000 80%);
    transform: rotateX(60deg);
    border-radius: 50%;
    box-shadow: 0 -20px 50px rgba(0, 0, 0, 0.5);
    z-index: 0;
}

.cards-container {
    position: absolute;
    top: 30%;
    /* Lifted significantly high to ensure outer cards clear bottom */
    left: 50%;
    width: 0;
    height: 0;
    transform-style: preserve-3d;
    z-index: 10;
}

/* 
   Wrapper positions the element in the 3D fan fan.
   It does NOT move on hover. It just sits there.
*/
.card-wrapper {
    position: absolute;
    width: var(--card-width);
    height: var(--card-height);

    /* Pivot context for the fan */
    transform-origin: 50% 250%;

    /* We don't transition the wrapper's transform on hover, only on scroll */
    transition: transform 0.1s linear;

    /* Ensure the child visual can be 3D transformed relative to this */
    transform-style: preserve-3d;

    /* Position centering */
    left: calc(var(--card-width) * -0.5);
    top: calc(var(--card-height) * -0.5);

    z-index: 10;
    pointer-events: auto;
    /* Catch mouse events */
}

/* 
   The Visual part does the interaction (pop up).
   It is a child of the wrapper.
*/
.card-visual {
    width: 100%;
    height: 100%;
    position: relative;
    background-color: #1a1a1a;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.1);

    /* Optimization */
    will-change: transform;

    /* Smooth transition for the POP effect */
    transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.3s;
    user-select: none;
    cursor: pointer;
    overflow: hidden;
    /* For the image */
}

.card-visual img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    pointer-events: none;
}

/* When wrapper is hovered, we affect the visual */
.card-wrapper.hovered .card-visual {
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
    border-color: var(--accent-color);
}

/*
   GLITCH FIX:
   When the visuals move UP, we create an invisible bridge 
   so the mouse doesn't fall into the gap and trigger mouseleave.
*/
.card-visual::after {
    content: '';
    position: absolute;
    bottom: -100px;
    /* Extend below */
    left: -20%;
    width: 140%;
    height: 100px;
    background: transparent;
    pointer-events: auto;
    display: none;
}

.card-wrapper.hovered .card-visual::after {
    display: block;
    /* Activate bridge on hover */
}

.card-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 10px;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
    color: white;
    text-align: center;
    font-size: 0.9rem;
    font-weight: 600;
    opacity: 0;
    transition: opacity 0.3s;
}

.card-visual:hover .card-overlay {
    opacity: 1;
}

.instruction-overlay {
    position: absolute;
    bottom: 50px;
    width: 100%;
    text-align: center;
    font-size: 0.9rem;
    color: #666;
    opacity: 0;
    transition: opacity 0.5s;
    pointer-events: none;
}

/* --- Ticker Section --- */
.ticker-section {
    position: relative;
    z-index: 2;
    /* Above the sticky scene if needed */
    background: #0f0f11;
    padding: 4rem 0;
    border-top: 1px solid #222;
}

.ticker-wrap {
    width: 100%;
    overflow: hidden;
    white-space: nowrap;
}

.ticker {
    display: inline-block;
    padding-left: 100%;
    /* Use CSS animation for infinite loop */
    animation: ticker 30s linear infinite;
}

.ticker__item {
    display: inline-block;
    padding: 0 2rem;
    font-size: 3rem;
    color: #333;
    font-weight: 700;
    text-transform: uppercase;
    transition: color 0.3s;
}

.ticker__item:hover {
    color: var(--accent-color);
}

@keyframes ticker {
    0% {
        transform: translateX(0);
    }

    100% {
        transform: translateX(-100%);
    }
}

/* --- Timeline Section --- */
.timeline-section {
    position: relative;
    background: #0f0f11;
    padding: 4rem 2rem;
    color: #fff;
    min-height: 50vh;
}

.section-title {
    font-family: 'Playfair Display', serif;
    font-size: 2.5rem;
    margin-bottom: 2rem;
    text-align: center;
}

.timeline {
    max-width: 800px;
    margin: 0 auto;
    border-left: 2px solid #333;
    padding-left: 2rem;
}

.timeline-item {
    margin-bottom: 2rem;
    position: relative;
}

.timeline-item::before {
    content: '';
    position: absolute;
    left: -2.6rem;
    top: 0.5rem;
    width: 1rem;
    height: 1rem;
    background: #333;
    border-radius: 50%;
    transition: background 0.3s;
}

.timeline-item:hover::before {
    background: var(--accent-color);
}

.date {
    font-size: 0.9rem;
    color: var(--accent-color);
    margin-bottom: 0.25rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.content {
    font-size: 1.5rem;
    font-weight: 300;
}

.timeline-past {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0;
}

.timeline-past.expanded {
    max-height: 2000px;
    opacity: 1;
    margin-top: 2rem;
}

.timeline-toggle-wrapper {
    display: flex;
    justify-content: center;
    margin-top: 2rem;
}

.timeline-toggle {
    background: transparent;
    border: 1px solid #333;
    color: #666;
    padding: 0.6rem 2rem;
    border-radius: 30px;
    cursor: pointer;
    font-family: 'Inter', sans-serif;
    font-size: 0.85rem;
    letter-spacing: 1px;
    text-transform: uppercase;
    transition: all 0.3s;
}

.timeline-toggle:hover {
    border-color: var(--accent-color);
    color: #fff;
}

.timeline-toggle.active {
    background: rgba(255, 215, 0, 0.1);
    border-color: var(--accent-color);
    color: #fff;
}

/* --- Contact Section --- */
.contact-section {
    background-color: #050505;
    text-align: center;
    padding: 6rem 1rem;
}

.contact-section h2 {
    font-family: 'Playfair Display', serif;
    font-size: 3rem;
    margin-bottom: 1rem;
}

.contact-section p {
    color: #888;
    margin-bottom: 3rem;
}

.contact-btn {
    display: inline-block;
    padding: 1rem 3rem;
    border: 1px solid #fff;
    color: #fff;
    text-decoration: none;
    text-transform: uppercase;
    letter-spacing: 2px;
    transition: all 0.3s;
}

.contact-btn:hover {
    background: #fff;
    color: #000;
}